import{j as e,L as u,a as B,c as S,_ as y,n as g,r as i,S as w,C as O,b as H,m,U as M,M as T,d as P,e as A,f as I,A as F,g as _,h as W,P as G,D as X,R as Y,i as J,k as K,X as Q,Y as D,T as V,l as Z,o as E,p as ee,q as z,s as se,t as R,u as te,v as ae,w as re,x as ne,y as le,z as oe,B as ie,E as ce,F as de,H as me,G as xe,I as ue,J as he,K as ge,N as f,O as N,Q as pe,V as fe,W as ye}from"./vendor-CyWiO6tL.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=t(n);fetch(n.href,l)}})();const je=({category:s})=>e.jsx("div",{className:"relative overflow-hidden h-96 w-full rounded-lg group",children:e.jsx(u,{to:"/category"+s.href,children:e.jsxs("div",{className:"w-full h-full cursor-pointer",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-gray-900 opacity-50 z-10"}),e.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-full h-full object-cover transition-transform duration-500 ease-out group-hover:scale-110",loading:"lazy"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-20",children:[e.jsx("h3",{className:"text-white text-2xl font-bold mb-2",children:s.name}),e.jsxs("p",{className:"text-gray-200 text-sm",children:["Explore ",s.name]})]})]})})}),d=B.create({baseURL:import.meta.mode==="development"?"http://localhost:5000/api":"/api",withCredentials:!0}),C=S(s=>({products:[],loading:!1,setProducts:a=>s({products:a}),createProduct:async a=>{s({loading:!0});try{const t=await d.post("/products",a);s(r=>({products:[...r.products,t.data],loading:!1}))}catch(t){y.error(t.response.data.error),s({loading:!1})}},fetchAllProducts:async()=>{s({loading:!0});try{const a=await d.get("/products");s({products:a.data.products,loading:!1})}catch(a){s({error:"Failed to fetch products",loading:!1}),y.error(a.response.data.error||"Failed to fetch products")}},fetchProductsByCategory:async a=>{s({loading:!0});try{const t=await d.get(`/products/category/${a}`);s({products:t.data.products,loading:!1})}catch(t){s({error:"Failed to fetch products",loading:!1}),y.error(t.response.data.error||"Failed to fetch products")}},deleteProduct:async a=>{s({loading:!0});try{await d.delete(`/products/${a}`),s(t=>({products:t.products.filter(r=>r._id!==a),loading:!1}))}catch(t){s({loading:!1}),y.error(t.response.data.error||"Failed to delete product")}},toggleFeaturedProduct:async a=>{s({loading:!0});try{const t=await d.patch(`/products/${a}`);s(r=>({products:r.products.map(n=>n._id===a?{...n,isFeatured:t.data.isFeatured}:n),loading:!1}))}catch(t){s({loading:!1}),y.error(t.response.data.error||"Failed to update product")}},fetchFeaturedProducts:async()=>{s({loading:!0});try{const a=await d.get("/products/featured");s({products:a.data,loading:!1})}catch(a){s({error:"Failed to fetch products",loading:!1}),console.log("Error fetching featured products:",a)}}})),p=S((s,a)=>({cart:[],coupon:null,total:0,subtotal:0,isCouponApplied:!1,getMyCoupon:async()=>{try{const t=await d.get("/coupons");s({coupon:t.data})}catch(t){console.error("Error fetching coupon:",t)}},applyCoupon:async t=>{var r,n;try{const l=await d.post("/coupons/validate",{code:t});s({coupon:l.data,isCouponApplied:!0}),a().calculateTotals(),g.success("Coupon applied successfully")}catch(l){g.error(((n=(r=l.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to apply coupon")}},removeCoupon:()=>{s({coupon:null,isCouponApplied:!1}),a().calculateTotals(),g.success("Coupon removed")},getCartItems:async()=>{try{const t=await d.get("/cart");s({cart:t.data}),a().calculateTotals()}catch(t){s({cart:[]}),g.error(t.response.data.message||"An error occurred")}},clearCart:async()=>{s({cart:[],coupon:null,total:0,subtotal:0})},addToCart:async t=>{try{await d.post("/cart",{productId:t._id}),g.success("Product added to cart"),s(r=>({cart:r.cart.find(o=>o._id===t._id)?r.cart.map(o=>o._id===t._id?{...o,quantity:o.quantity+1}:o):[...r.cart,{...t,quantity:1}]})),a().calculateTotals()}catch(r){g.error(r.response.data.message||"An error occurred")}},removeFromCart:async t=>{await d.delete("/cart",{data:{productId:t}}),s(r=>({cart:r.cart.filter(n=>n._id!==t)})),a().calculateTotals()},updateQuantity:async(t,r)=>{if(r===0){a().removeFromCart(t);return}await d.put(`/cart/${t}`,{quantity:r}),s(n=>({cart:n.cart.map(l=>l._id===t?{...l,quantity:r}:l)})),a().calculateTotals()},calculateTotals:()=>{const{cart:t,coupon:r}=a(),n=t.reduce((o,c)=>o+c.price*c.quantity,0);let l=n;if(r){const o=n*(r.discountPercentage/100);l=n-o}s({subtotal:n,total:l})}})),be=({featuredProducts:s})=>{const[a,t]=i.useState(0),[r,n]=i.useState(4),{addToCart:l}=p();i.useEffect(()=>{const x=()=>{window.innerWidth<640?n(1):window.innerWidth<1024?n(2):window.innerWidth<1280?n(3):n(4)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const o=()=>{t(x=>x+r)},c=()=>{t(x=>x-r)},h=a===0,b=a>=s.length-r;return e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"text-center text-5xl sm:text-6xl font-bold text-emerald-400 mb-4",children:"Featured"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${a*(100/r)}%)`},children:s==null?void 0:s.map(x=>e.jsx("div",{className:"w-full sm:w-1/2 lg:w-1/3 xl:w-1/4 flex-shrink-0 px-2",children:e.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg shadow-lg overflow-hidden h-full transition-all duration-300 hover:shadow-xl border border-emerald-500/30",children:[e.jsx("div",{className:"overflow-hidden",children:e.jsx("img",{src:x.image,alt:x.name,className:"w-full h-48 object-cover transition-transform duration-300 ease-in-out hover:scale-110"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:x.name}),e.jsxs("p",{className:"text-emerald-300 font-medium mb-4",children:["$",x.price.toFixed(2)]}),e.jsxs("button",{onClick:()=>l(x),className:`w-full bg-emerald-600 hover:bg-emerald-500 text-white font-semibold py-2 px-4 rounded transition-colors duration-300 \r
												flex items-center justify-center`,children:[e.jsx(w,{className:"w-5 h-5 mr-2"}),"Add to Cart"]})]})]})},x._id))})}),e.jsx("button",{onClick:c,disabled:h,className:`absolute top-1/2 -left-4 transform -translate-y-1/2 p-2 rounded-full transition-colors duration-300 ${h?"bg-gray-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500"}`,children:e.jsx(O,{className:"w-6 h-6"})}),e.jsx("button",{onClick:o,disabled:b,className:`absolute top-1/2 -right-4 transform -translate-y-1/2 p-2 rounded-full transition-colors duration-300 ${b?"bg-gray-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500"}`,children:e.jsx(H,{className:"w-6 h-6"})})]})]})})},Ne=[{href:"/jeans",name:"Jeans",imageUrl:"/jeans.jpg"},{href:"/t-shirts",name:"T-shirts",imageUrl:"/tshirts.jpg"},{href:"/shoes",name:"Shoes",imageUrl:"/shoes.jpg"},{href:"/glasses",name:"Glasses",imageUrl:"/glasses.png"},{href:"/jackets",name:"Jackets",imageUrl:"/jackets.jpg"},{href:"/suits",name:"Suits",imageUrl:"/suits.jpg"},{href:"/bags",name:"Bags",imageUrl:"/bags.jpg"}],ve=()=>{const{fetchFeaturedProducts:s,products:a,isLoading:t}=C();return i.useEffect(()=>{s()},[s]),e.jsx("div",{className:"relative min-h-screen text-white overflow-hidden",children:e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsx("h1",{className:"text-center text-5xl sm:text-6xl font-bold text-emerald-400 mb-4",children:"Explore Our Categories"}),e.jsx("p",{className:"text-center text-xl text-gray-300 mb-12",children:"Discover the latest trends in eco-friendly fashion"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Ne.map(r=>e.jsx(je,{category:r},r.name))}),!t&&a.length>0&&e.jsx(be,{featuredProducts:a})]})})},j=S((s,a)=>({user:null,loading:!1,checkingAuth:!0,signup:async({name:t,email:r,password:n,confirmPassword:l})=>{if(s({loading:!0}),n!==l)return s({loading:!1}),g.error("Passwords do not match");try{const o=await d.post("/auth/signup",{name:t,email:r,password:n});s({user:o.data,loading:!1})}catch(o){s({loading:!1}),g.error(o.response.data.message||"An error occurred")}},login:async(t,r)=>{s({loading:!0});try{const n=await d.post("/auth/login",{email:t,password:r});s({user:n.data,loading:!1})}catch(n){s({loading:!1}),g.error(n.response.data.message||"An error occurred")}},logout:async()=>{var t,r;try{await d.post("/auth/logout"),s({user:null})}catch(n){g.error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"An error occurred during logout")}},checkAuth:async()=>{s({checkingAuth:!0});try{const t=await d.get("/auth/profile");s({user:t.data,checkingAuth:!1})}catch(t){console.log(t.message),s({checkingAuth:!1,user:null})}},refreshToken:async()=>{if(!a().checkingAuth){s({checkingAuth:!0});try{const t=await d.post("/auth/refresh-token");return s({checkingAuth:!1}),t.data}catch(t){throw s({user:null,checkingAuth:!1}),t}}}}));let v=null;d.interceptors.response.use(s=>s,async s=>{var t;const a=s.config;if(((t=s.response)==null?void 0:t.status)===401&&!a._retry){a._retry=!0;try{return v?(await v,d(a)):(v=j.getState().refreshToken(),await v,v=null,d(a))}catch(r){return j.getState().logout(),Promise.reject(r)}}return Promise.reject(s)});const we=()=>{const[s,a]=i.useState({name:"",email:"",password:"",confirmPassword:""}),{signup:t,loading:r}=j(),n=l=>{l.preventDefault(),t(s)};return e.jsxs("div",{className:"flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsx(m.div,{className:"sm:mx-auto sm:w-full sm:max-w-md",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-emerald-400",children:"Create your account"})}),e.jsx(m.div,{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:e.jsxs("div",{className:"bg-gray-800 py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[e.jsxs("form",{onSubmit:n,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Full name"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(M,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{id:"name",type:"text",required:!0,value:s.name,onChange:l=>a({...s,name:l.target.value}),className:`block w-full px-3 py-2 pl-10 bg-gray-700 border border-gray-600 rounded-md shadow-sm\r
									 placeholder-gray-400 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm`,placeholder:"John Doe"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(T,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{id:"email",type:"email",required:!0,value:s.email,onChange:l=>a({...s,email:l.target.value}),className:` block w-full px-3 py-2 pl-10 bg-gray-700 border border-gray-600 \r
									rounded-md shadow-sm\r
									 placeholder-gray-400 focus:outline-none focus:ring-emerald-500 \r
									 focus:border-emerald-500 sm:text-sm`,placeholder:"you@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(P,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{id:"password",type:"password",required:!0,value:s.password,onChange:l=>a({...s,password:l.target.value}),className:` block w-full px-3 py-2 pl-10 bg-gray-700 border border-gray-600 \r
									rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm`,placeholder:"••••••••"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300",children:"Confirm Password"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(P,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{id:"confirmPassword",type:"password",required:!0,value:s.confirmPassword,onChange:l=>a({...s,confirmPassword:l.target.value}),className:` block w-full px-3 py-2 pl-10 bg-gray-700 border\r
									 border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm`,placeholder:"••••••••"})]})]}),e.jsx("button",{type:"submit",className:`w-full flex justify-center py-2 px-4 border border-transparent \r
							rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600\r
							 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2\r
							  focus:ring-emerald-500 transition duration-150 ease-in-out disabled:opacity-50`,disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2 h-5 w-5 animate-spin","aria-hidden":"true"}),"Loading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),"Sign up"]})})]}),e.jsxs("p",{className:"mt-8 text-center text-sm text-gray-400",children:["Already have an account?"," ",e.jsxs(u,{to:"/login",className:"font-medium text-emerald-400 hover:text-emerald-300",children:["Login here ",e.jsx(F,{className:"inline h-4 w-4"})]})]})]})})]})},Ce=()=>{const[s,a]=i.useState(""),[t,r]=i.useState(""),{login:n,loading:l}=j(),o=c=>{c.preventDefault(),console.log(s,t),n(s,t)};return e.jsxs("div",{className:"flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsx(m.div,{className:"sm:mx-auto sm:w-full sm:max-w-md",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-emerald-400",children:"Create your account"})}),e.jsx(m.div,{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:e.jsxs("div",{className:"bg-gray-800 py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[e.jsxs("form",{onSubmit:o,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(T,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{id:"email",type:"email",required:!0,value:s,onChange:c=>a(c.target.value),className:` block w-full px-3 py-2 pl-10 bg-gray-700 border border-gray-600 \r
									rounded-md shadow-sm\r
									 placeholder-gray-400 focus:outline-none focus:ring-emerald-500 \r
									 focus:border-emerald-500 sm:text-sm`,placeholder:"you@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(P,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{id:"password",type:"password",required:!0,value:t,onChange:c=>r(c.target.value),className:` block w-full px-3 py-2 pl-10 bg-gray-700 border border-gray-600 \r
									rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm`,placeholder:"••••••••"})]})]}),e.jsx("button",{type:"submit",className:`w-full flex justify-center py-2 px-4 border border-transparent \r
							rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600\r
							 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2\r
							  focus:ring-emerald-500 transition duration-150 ease-in-out disabled:opacity-50`,disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2 h-5 w-5 animate-spin","aria-hidden":"true"}),"Loading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),"Login"]})})]}),e.jsxs("p",{className:"mt-8 text-center text-sm text-gray-400",children:["Not a member?"," ",e.jsxs(u,{to:"/signup",className:"font-medium text-emerald-400 hover:text-emerald-300",children:["Sign up now ",e.jsx(F,{className:"inline h-4 w-4"})]})]})]})})]})},ke=()=>{const[s,a]=i.useState({users:0,products:0,totalSales:0,totalRevenue:0}),[t,r]=i.useState(!0),[n,l]=i.useState([]);return i.useEffect(()=>{(async()=>{try{const c=await d.get("/analytics");a(c.data.analyticsData),l(c.data.dailySalesData)}catch(c){console.error("Error fetching analytics data:",c)}finally{r(!1)}})()},[]),t?e.jsx("div",{children:"Loading..."}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(k,{title:"Total Users",value:s.users.toLocaleString(),icon:W,color:"from-emerald-500 to-teal-700"}),e.jsx(k,{title:"Total Products",value:s.products.toLocaleString(),icon:G,color:"from-emerald-500 to-green-700"}),e.jsx(k,{title:"Total Sales",value:s.totalSales.toLocaleString(),icon:w,color:"from-emerald-500 to-cyan-700"}),e.jsx(k,{title:"Total Revenue",value:`$${s.totalRevenue.toLocaleString()}`,icon:X,color:"from-emerald-500 to-lime-700"})]}),e.jsx(m.div,{className:"bg-gray-800/60 rounded-lg p-6 shadow-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.25},children:e.jsx(Y,{width:"100%",height:400,children:e.jsxs(J,{data:n,children:[e.jsx(K,{strokeDasharray:"3 3"}),e.jsx(Q,{dataKey:"name",stroke:"#D1D5DB"}),e.jsx(D,{yAxisId:"left",stroke:"#D1D5DB"}),e.jsx(D,{yAxisId:"right",orientation:"right",stroke:"#D1D5DB"}),e.jsx(V,{}),e.jsx(Z,{}),e.jsx(E,{yAxisId:"left",type:"monotone",dataKey:"sales",stroke:"#10B981",activeDot:{r:8},name:"Sales"}),e.jsx(E,{yAxisId:"right",type:"monotone",dataKey:"revenue",stroke:"#3B82F6",activeDot:{r:8},name:"Revenue"})]})})})]})},k=({title:s,value:a,icon:t,color:r})=>e.jsxs(m.div,{className:`bg-gray-800 rounded-lg p-6 shadow-lg overflow-hidden relative ${r}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"z-10",children:[e.jsx("p",{className:"text-emerald-300 text-sm mb-1 font-semibold",children:s}),e.jsx("h3",{className:"text-white text-3xl font-bold",children:a})]})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-600 to-emerald-900 opacity-30"}),e.jsx("div",{className:"absolute -bottom-4 -right-4 text-emerald-800 opacity-50",children:e.jsx(t,{className:"h-32 w-32"})})]}),Pe=["jeans","t-shirts","shoes","glasses","jackets","suits","bags"],Se=()=>{const[s,a]=i.useState({name:"",description:"",price:"",category:"",image:""}),{createProduct:t,loading:r}=C(),n=async o=>{o.preventDefault();try{await t(s),a({name:"",description:"",price:"",category:"",image:""})}catch{console.log("error creating a product")}},l=o=>{const c=o.target.files[0];if(c){const h=new FileReader;h.onloadend=()=>{a({...s,image:h.result})},h.readAsDataURL(c)}};return e.jsxs(m.div,{className:"bg-gray-800 shadow-lg rounded-lg p-8 mb-8 max-w-xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6 text-emerald-300",children:"Create New Product"}),e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Product Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:o=>a({...s,name:o.target.value}),className:`mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2\r
						 px-3 text-white focus:outline-none focus:ring-2\r
						focus:ring-emerald-500 focus:border-emerald-500`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300",children:"Description"}),e.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:o=>a({...s,description:o.target.value}),rows:"3",className:`mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm\r
						 py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-emerald-500 \r
						 focus:border-emerald-500`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-300",children:"Price"}),e.jsx("input",{type:"number",id:"price",name:"price",value:s.price,onChange:o=>a({...s,price:o.target.value}),step:"0.01",className:`mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm \r
						py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-emerald-500\r
						 focus:border-emerald-500`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-300",children:"Category"}),e.jsxs("select",{id:"category",name:"category",value:s.category,onChange:o=>a({...s,category:o.target.value}),className:`mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md\r
						 shadow-sm py-2 px-3 text-white focus:outline-none \r
						 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500`,required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),Pe.map(o=>e.jsx("option",{value:o,children:o},o))]})]}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx("input",{type:"file",id:"image",className:"sr-only",accept:"image/*",onChange:l}),e.jsxs("label",{htmlFor:"image",className:"cursor-pointer bg-gray-700 py-2 px-3 border border-gray-600 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-300 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[e.jsx(ee,{className:"h-5 w-5 inline-block mr-2"}),"Upload Image"]}),s.image&&e.jsx("span",{className:"ml-3 text-sm text-gray-400",children:"Image uploaded "})]}),e.jsx("button",{type:"submit",className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md \r
					shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 \r
					focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50`,disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2 h-5 w-5 animate-spin","aria-hidden":"true"}),"Loading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"mr-2 h-5 w-5"}),"Create Product"]})})]})]})},Ae=()=>{const{deleteProduct:s,toggleFeaturedProduct:a,products:t}=C();return console.log("products",t),e.jsx(m.div,{className:"bg-gray-800 shadow-lg rounded-lg overflow-hidden max-w-4xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsxs("table",{className:" min-w-full divide-y divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Product"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Price"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Category"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Featured"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:t==null?void 0:t.map(r=>e.jsxs("tr",{className:"hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:r.image,alt:r.name})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-white",children:r.name})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-300",children:["$",r.price.toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-300",children:r.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>a(r._id),className:`p-1 rounded-full ${r.isFeatured?"bg-yellow-400 text-gray-900":"bg-gray-600 text-gray-300"} hover:bg-yellow-500 transition-colors duration-200`,children:e.jsx(se,{className:"h-5 w-5"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>s(r._id),className:"text-red-400 hover:text-red-300",children:e.jsx(R,{className:"h-5 w-5"})})})]},r._id))})]})})},Fe=[{id:"create",label:"Create Product",icon:z},{id:"products",label:"Products",icon:te},{id:"analytics",label:"Analytics",icon:ae}],Le=()=>{const[s,a]=i.useState("create"),{fetchAllProducts:t}=C();return i.useEffect(()=>{t()},[t]),e.jsx("div",{className:"min-h-screen relative overflow-hidden",children:e.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-16",children:[e.jsx(m.h1,{className:"text-4xl font-bold mb-8 text-emerald-400 text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},children:"Admin Dashboard"}),e.jsx("div",{className:"flex justify-center mb-8",children:Fe.map(r=>e.jsxs("button",{onClick:()=>a(r.id),className:`flex items-center px-4 py-2 mx-2 rounded-md transition-colors duration-200 ${s===r.id?"bg-emerald-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[e.jsx(r.icon,{className:"mr-2 h-5 w-5"}),r.label]},r.id))}),s==="create"&&e.jsx(Se,{}),s==="products"&&e.jsx(Ae,{}),s==="analytics"&&e.jsx(ke,{})]})})},U=({product:s})=>{const{user:a}=j(),{addToCart:t}=p(),r=()=>{if(a)t(s);else{y.error("Please login to add products to cart",{id:"login"});return}};return e.jsxs("div",{className:"flex w-full relative flex-col overflow-hidden rounded-lg border border-gray-700 shadow-lg",children:[e.jsxs("div",{className:"relative mx-3 mt-3 flex h-60 overflow-hidden rounded-xl",children:[e.jsx("img",{className:"object-cover w-full",src:s.image,alt:"product image"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})]}),e.jsxs("div",{className:"mt-4 px-5 pb-5",children:[e.jsx("h5",{className:"text-xl font-semibold tracking-tight text-white",children:s.name}),e.jsx("div",{className:"mt-2 mb-5 flex items-center justify-between",children:e.jsx("p",{children:e.jsxs("span",{className:"text-3xl font-bold text-emerald-400",children:["$",s.price]})})}),e.jsxs("button",{className:`flex items-center justify-center rounded-lg bg-emerald-600 px-5 py-2.5 text-center text-sm font-medium\r
					 text-white hover:bg-emerald-700 focus:outline-none focus:ring-4 focus:ring-emerald-300`,onClick:r,children:[e.jsx(w,{size:22,className:"mr-2"}),"Add to cart"]})]})]})},De=()=>{const{fetchProductsByCategory:s,products:a}=C(),{category:t}=re();return i.useEffect(()=>{s(t)},[s,t]),console.log("products:",a),e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"relative z-10 max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsx(m.h1,{className:"text-center text-4xl sm:text-5xl font-bold text-emerald-400 mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},children:t.charAt(0).toUpperCase()+t.slice(1)}),e.jsxs(m.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 justify-items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[(a==null?void 0:a.length)===0&&e.jsx("h2",{className:"text-3xl font-semibold text-gray-300 text-center col-span-full",children:"No products found"}),a==null?void 0:a.map(r=>e.jsx(U,{product:r},r._id))]})]})})},Ee=({item:s})=>{const{removeFromCart:a,updateQuantity:t}=p();return e.jsx("div",{className:"rounded-lg border p-4 shadow-sm border-gray-700 bg-gray-800 md:p-6",children:e.jsxs("div",{className:"space-y-4 md:flex md:items-center md:justify-between md:gap-6 md:space-y-0",children:[e.jsx("div",{className:"shrink-0 md:order-1",children:e.jsx("img",{className:"h-20 md:h-32 rounded object-cover",src:s.image})}),e.jsx("label",{className:"sr-only",children:"Choose quantity:"}),e.jsxs("div",{className:"flex items-center justify-between md:order-3 md:justify-end",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:`inline-flex h-5 w-5 shrink-0 items-center justify-center rounded-md border\r
							 border-gray-600 bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2\r
							  focus:ring-emerald-500`,onClick:()=>t(s._id,s.quantity-1),children:e.jsx(ne,{className:"text-gray-300"})}),e.jsx("p",{children:s.quantity}),e.jsx("button",{className:`inline-flex h-5 w-5 shrink-0 items-center justify-center rounded-md border\r
							 border-gray-600 bg-gray-700 hover:bg-gray-600 focus:outline-none \r
						focus:ring-2 focus:ring-emerald-500`,onClick:()=>t(s._id,s.quantity+1),children:e.jsx(le,{className:"text-gray-300"})})]}),e.jsx("div",{className:"text-end md:order-4 md:w-32",children:e.jsxs("p",{className:"text-base font-bold text-emerald-400",children:["$",s.price]})})]}),e.jsxs("div",{className:"w-full min-w-0 flex-1 space-y-4 md:order-2 md:max-w-md",children:[e.jsx("p",{className:"text-base font-medium text-white hover:text-emerald-400 hover:underline",children:s.name}),e.jsx("p",{className:"text-sm text-gray-400",children:s.description}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{className:`inline-flex items-center text-sm font-medium text-red-400\r
							 hover:text-red-300 hover:underline`,onClick:()=>a(s._id),children:e.jsx(R,{})})})]})]})})},$=()=>e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 border-emerald-200 border-2 rounded-full"}),e.jsx("div",{className:"w-20 h-20 border-emerald-500 border-t-2 animate-spin rounded-full absolute left-0 top-0"}),e.jsx("div",{className:"sr-only",children:"Loading"})]})}),Te=()=>{const[s,a]=i.useState([]),[t,r]=i.useState(!0);return i.useEffect(()=>{(async()=>{try{const l=await d.get("/products/recommendations");a(l.data)}catch(l){y.error(l.response.data.message||"An error occurred while fetching recommendations")}finally{r(!1)}})()},[]),t?e.jsx($,{}):e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-2xl font-semibold text-emerald-400",children:"People also bought"}),e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg: grid-col-3",children:s.map(n=>e.jsx(U,{product:n},n._id))})]})},Ie=oe("pk_test_51PyxZEEBIVyWBlgu4AHBaTIb3nrtIowcDXybBXrb3BpfwCobGscE6bClFlntYG1gPzHgDbOOdm9nVLyxQCGJatTF0037DoTWZB"),_e=()=>{const{total:s,subtotal:a,coupon:t,isCouponApplied:r,cart:n}=p(),l=a-s,o=a.toFixed(2),c=s.toFixed(2),h=l.toFixed(2),b=async()=>{const x=await Ie,q=(await d.post("/payments/create-checkout-session",{products:n,couponCode:t?t.code:null})).data,L=await x.redirectToCheckout({sessionId:q.id});L.error&&console.error("Error:",L.error)};return e.jsxs(m.div,{className:"space-y-4 rounded-lg border border-gray-700 bg-gray-800 p-4 shadow-sm sm:p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("p",{className:"text-xl font-semibold text-emerald-400",children:"Order summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("dl",{className:"flex items-center justify-between gap-4",children:[e.jsx("dt",{className:"text-base font-normal text-gray-300",children:"Original price"}),e.jsxs("dd",{className:"text-base font-medium text-white",children:["$",o]})]}),l>0&&e.jsxs("dl",{className:"flex items-center justify-between gap-4",children:[e.jsx("dt",{className:"text-base font-normal text-gray-300",children:"Savings"}),e.jsxs("dd",{className:"text-base font-medium text-emerald-400",children:["-$",h]})]}),t&&r&&e.jsxs("dl",{className:"flex items-center justify-between gap-4",children:[e.jsxs("dt",{className:"text-base font-normal text-gray-300",children:["Coupon (",t.code,")"]}),e.jsxs("dd",{className:"text-base font-medium text-emerald-400",children:["-",t.discountPercentage,"%"]})]}),e.jsxs("dl",{className:"flex items-center justify-between gap-4 border-t border-gray-600 pt-2",children:[e.jsx("dt",{className:"text-base font-bold text-white",children:"Total"}),e.jsxs("dd",{className:"text-base font-bold text-emerald-400",children:["$",c]})]})]}),e.jsx(m.button,{className:"flex w-full items-center justify-center rounded-lg bg-emerald-600 px-5 py-2.5 text-sm font-medium text-white hover:bg-emerald-700 focus:outline-none focus:ring-4 focus:ring-emerald-300",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,children:"Proceed to Checkout"}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"text-sm font-normal text-gray-400",children:"or"}),e.jsxs(u,{to:"/",className:"inline-flex items-center gap-2 text-sm font-medium text-emerald-400 underline hover:text-emerald-300 hover:no-underline",children:["Continue Shopping",e.jsx(ie,{size:16})]})]})]})]})},ze=()=>{const[s,a]=i.useState(""),{coupon:t,isCouponApplied:r,applyCoupon:n,getMyCoupon:l,removeCoupon:o}=p();i.useEffect(()=>{l()},[l]),i.useEffect(()=>{t&&a(t.code)},[t]);const c=()=>{s&&n(s)},h=async()=>{await o(),a("")};return e.jsxs(m.div,{className:"space-y-4 rounded-lg border border-gray-700 bg-gray-800 p-4 shadow-sm sm:p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"voucher",className:"mb-2 block text-sm font-medium text-gray-300",children:"Do you have a voucher or gift card?"}),e.jsx("input",{type:"text",id:"voucher",className:`block w-full rounded-lg border border-gray-600 bg-gray-700 \r
            p-2.5 text-sm text-white placeholder-gray-400 focus:border-emerald-500 \r
            focus:ring-emerald-500`,placeholder:"Enter code here",value:s,onChange:b=>a(b.target.value),required:!0})]}),e.jsx(m.button,{type:"button",className:"flex w-full items-center justify-center rounded-lg bg-emerald-600 px-5 py-2.5 text-sm font-medium text-white hover:bg-emerald-700 focus:outline-none focus:ring-4 focus:ring-emerald-300",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,children:"Apply Code"})]}),r&&t&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-300",children:"Applied Coupon"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:[t.code," - ",t.discountPercentage,"% off"]}),e.jsx(m.button,{type:"button",className:`mt-2 flex w-full items-center justify-center rounded-lg bg-red-600 \r
            px-5 py-2.5 text-sm font-medium text-white hover:bg-red-700 focus:outline-none\r
             focus:ring-4 focus:ring-red-300`,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:h,children:"Remove Coupon"})]}),t&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-300",children:"Your Available Coupon:"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:[t.code," - ",t.discountPercentage,"% off"]})]})]})},Re=()=>{const{cart:s}=p();return e.jsx("div",{className:"py-8 md:py-16",children:e.jsx("div",{className:"mx-auto max-w-screen-xl px-4 2xl:px-0",children:e.jsxs("div",{className:"mt-6 sm:mt-8 md:gap-6 lg:flex lg:items-start xl:gap-8",children:[e.jsxs(m.div,{className:"mx-auto w-full flex-none lg:max-w-2xl xl:max-w-8xl",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[s.length===0?e.jsx(Ue,{}):e.jsx("div",{className:"space-y-6",children:s.map(a=>e.jsx(Ee,{item:a},a._id))}),s.length>0&&e.jsx(Te,{})]}),s.length>0&&e.jsxs(m.div,{className:"mx-auto mt-6 max-w-4xl flex-1 space-y-6 lg:mt-0 lg:w-full",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:[e.jsx(_e,{}),e.jsx(ze,{})]})]})})})},Ue=()=>e.jsxs(m.div,{className:"flex flex-col items-center justify-center space-y-4 py-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx(w,{className:"h-24 w-24 text-gray-300"}),e.jsx("h3",{className:"text-2xl font-semibold ",children:"Your cart is empty"}),e.jsxs("p",{className:"text-gray-400",children:["Looks like you ","haven't"," added anything to your cart yet."]}),e.jsx(u,{className:"mt-4 rounded-md bg-emerald-500 px-6 py-2 text-white transition-colors hover:bg-emerald-600",to:"/",children:"Start Shopping"})]}),$e=()=>{const[s,a]=i.useState(!0),{clearCart:t}=p(),[r,n]=i.useState(null);return i.useEffect(()=>{const l=async c=>{try{await d.post("/payments/checkout-success",{sessionId:c}),t()}catch(h){console.log(h)}finally{a(!1)}},o=new URLSearchParams(window.location.search).get("session_id");o?l(o):(a(!1),n("No session ID found in the URL"))},[t]),s?"Processing...":r?`Error: ${r}`:e.jsxs("div",{className:"h-screen flex items-center justify-center px-4",children:[e.jsx(ce,{width:window.innerWidth,height:window.innerHeight,gravity:.1,style:{zIndex:99},numberOfPieces:700,recycle:!1}),e.jsx("div",{className:"max-w-md w-full bg-gray-800 rounded-lg shadow-xl overflow-hidden relative z-10",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(de,{className:"text-emerald-400 w-16 h-16 mb-4"})}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-center text-emerald-400 mb-2",children:"Purchase Successful!"}),e.jsxs("p",{className:"text-gray-300 text-center mb-2",children:["Thank you for your order. ","We're"," processing it now."]}),e.jsx("p",{className:"text-emerald-400 text-center text-sm mb-6",children:"Check your email for order details and updates."}),e.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Order number"}),e.jsx("span",{className:"text-sm font-semibold text-emerald-400",children:"#12345"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Estimated delivery"}),e.jsx("span",{className:"text-sm font-semibold text-emerald-400",children:"3-5 business days"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{className:`w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4\r
             rounded-lg transition duration-300 flex items-center justify-center`,children:[e.jsx(me,{className:"mr-2",size:18}),"Thanks for trusting us!"]}),e.jsxs(u,{to:"/",className:`w-full bg-gray-700 hover:bg-gray-600 text-emerald-400 font-bold py-2 px-4 \r
            rounded-lg transition duration-300 flex items-center justify-center`,children:["Continue Shopping",e.jsx(F,{className:"ml-2",size:18})]})]})]})})]})},qe=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full bg-gray-800 rounded-lg shadow-xl overflow-hidden relative z-10",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(xe,{className:"text-red-500 w-16 h-16 mb-4"})}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-center text-red-500 mb-2",children:"Purchase Cancelled"}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:"Your order has been cancelled. No charges have been made."}),e.jsx("div",{className:"bg-gray-700 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-sm text-gray-400 text-center",children:"If you encountered any issues during the checkout process, please don't hesitate to contact our support team."})}),e.jsx("div",{className:"space-y-4",children:e.jsxs(u,{to:"/",className:"w-full bg-gray-700 hover:bg-gray-600 text-gray-300 font-bold py-2 px-4 rounded-lg transition duration-300 flex items-center justify-center",children:[e.jsx(ue,{className:"mr-2",size:18}),"Return to Shop"]})})]})})}),Be=()=>{const{user:s,logout:a}=j(),t=(s==null?void 0:s.role)==="admin",{cart:r}=p();return e.jsx("header",{className:"fixed top-0 left-0 w-full bg-gray-900 bg-opacity-90 backdrop-blur-md shadow-lg z-40 transition-all duration-300 border-b border-emerald-800",children:e.jsx("div",{className:"container mx-auto px-4 py-3",children:e.jsxs("div",{className:"flex flex-wrap justify-between items-center",children:[e.jsx(u,{to:"/",className:"text-2xl font-bold text-emerald-400 items-center space-x-2 flex",children:"NovaCart"}),e.jsxs("nav",{className:"flex flex-wrap items-center gap-4",children:[e.jsx(u,{to:"/",className:`text-gray-300 hover:text-emerald-400 transition duration-300\r
					 ease-in-out`,children:"Home"}),s&&e.jsxs(u,{to:"/cart",className:`relative group text-gray-300 hover:text-emerald-400 transition duration-300 \r
							ease-in-out`,children:[e.jsx(w,{className:"inline-block mr-1 group-hover:text-emerald-400",size:20}),e.jsx("span",{className:"hidden sm:inline",children:"Cart"}),r.length>0&&e.jsx("span",{className:`absolute -top-2 -left-2 bg-emerald-500 text-white rounded-full px-2 py-0.5 \r
									text-xs group-hover:bg-emerald-400 transition duration-300 ease-in-out`,children:r.length})]}),t&&e.jsxs(u,{className:`bg-emerald-700 hover:bg-emerald-600 text-white px-3 py-1 rounded-md font-medium\r
								 transition duration-300 ease-in-out flex items-center`,to:"/secret-dashboard",children:[e.jsx(P,{className:"inline-block mr-1",size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),s?e.jsxs("button",{className:`bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 \r
						rounded-md flex items-center transition duration-300 ease-in-out`,onClick:a,children:[e.jsx(he,{size:18}),e.jsx("span",{className:"hidden sm:inline ml-2",children:"Log Out"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(u,{to:"/signup",className:`bg-emerald-600 hover:bg-emerald-700 text-white py-2 px-4 \r
									rounded-md flex items-center transition duration-300 ease-in-out`,children:[e.jsx(I,{className:"mr-2",size:18}),"Sign Up"]}),e.jsxs(u,{to:"/login",className:`bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 \r
									rounded-md flex items-center transition duration-300 ease-in-out`,children:[e.jsx(_,{className:"mr-2",size:18}),"Login"]})]})]})]})})})};function Oe(){const{user:s,checkAuth:a,checkingAuth:t}=j(),{getCartItems:r}=p();return i.useEffect(()=>{a()},[a]),i.useEffect(()=>{s&&r()},[r,s]),t?e.jsx($,{}):e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0",children:e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full bg-[radial-gradient(ellipse_at_top,rgba(16,185,129,0.3)_0%,rgba(10,80,60,0.2)_45%,rgba(0,0,0,0.1)_100%)]"})})}),e.jsxs("div",{className:"relative z-50 pt-20",children:[e.jsx(Be,{}),e.jsxs(ge,{children:[e.jsx(f,{path:"/",element:e.jsx(ve,{})}),e.jsx(f,{path:"/signup",element:s?e.jsx(N,{to:"/"}):e.jsx(we,{})}),e.jsx(f,{path:"/login",element:s?e.jsx(N,{to:"/"}):e.jsx(Ce,{})}),e.jsx(f,{path:"/secret-dashboard",element:(s==null?void 0:s.role)==="admin"?e.jsx(Le,{}):e.jsx(N,{to:"/login"})}),e.jsx(f,{path:"/category/:category",element:e.jsx(De,{})}),e.jsx(f,{path:"/cart",element:s?e.jsx(Re,{}):e.jsx(N,{to:"/login"})}),e.jsx(f,{path:"/purchase-success",element:s?e.jsx($e,{}):e.jsx(N,{to:"/login"})}),e.jsx(f,{path:"/purchase-cancel",element:s?e.jsx(qe,{}):e.jsx(N,{to:"/login"})})]})]}),e.jsx(pe,{})]})}fe(document.getElementById("root")).render(e.jsx(i.StrictMode,{children:e.jsx(ye,{children:e.jsx(Oe,{})})}));
